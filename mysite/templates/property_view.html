{% extends "layout.html" %} {% block content %}
<script>
  	$(document).ready(function () {
    	var property_id = $("#propertyid").attr("value")
    	$("#addtofavourites").click(function () {

      	$.ajax({
			type: "GET",
			url: "/addtofavourites/",
			dataType: "json",
			async: true,
			data: { csrfmiddlewaretoken: '{{ csrf_token }}', property: property_id },
			success: function (json) {
				alert(json.message)
			}
      	})
    });
  });
</script>
<style>
	.carousel-item {
		height: 400px;
	}

	.d-block {
		max-height: 100%;
		object-fit: contain;
}
</style>
<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel" style="height:400px">
  	<ol class="carousel-indicators">
		<li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
		<li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
		<li data-target="#carouselExampleIndicators" data-slide-to="2"></li>
  	</ol>
	<div class="carousel-inner">
		<div class="carousel-item active">
			<img class="d-block w-100" src="https://images.unsplash.com/photo-1475855581690-80accde3ae2b?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80"
			alt="First slide">
		</div>
		<div class="carousel-item">
			<img class="d-block w-100" src="https://images.unsplash.com/photo-1475855581690-80accde3ae2b?ixlib=rb-1.2.1&ixid=eyJhcHBfaWQiOjEyMDd9&auto=format&fit=crop&w=1950&q=80"
			alt="Second slide">
		</div>
		<div class="carousel-item">
			<img class="d-block w-100" src="https://kinsman.com.au/wp-content/uploads/2019/02/family-castlecrag-thumb.jpg" alt="Third slide">
		</div>
	</div>
	<a class="carousel-control-prev" href="#carouselExampleIndicators" role="button" data-slide="prev">
		<span class="carousel-control-prev-icon" aria-hidden="true"></span>
		<span class="sr-only">Previous</span>
	</a>
	<a class="carousel-control-next" href="#carouselExampleIndicators" role="button" data-slide="next">
		<span class="carousel-control-next-icon" aria-hidden="true"></span>
		<span class="sr-only">Next</span>
	</a>
</div>
<br><br>
<div class="container">
	<div class="jumbotron">
			<div>
					<h3>{{ property.name }}</h3>
			</div>
			<div>
				{% if property.shareable is True %} {% for r in rooms %}
			
				<Strong>Room {{forloop.counter}} </Strong>
				<br>
				<div>Description: {{r.description}}</div>
				<div>Size: {{r.num_guests}}</div>
				<div>Price: ${{r.price}} per night</div>
			
				{% endfor %} {% endif %}
				<br>
			</div>
			<div>
				<strong>Property Description:</strong>
				<p>{{property.description}}</p>
			</div>
			<div>
				{% if property.shareable is False %}
				<strong>Property Price:</strong>
				${{property.price}} per night {% endif %}
				<br>
				<br>
			</div>
			
			<a href="{% url 'booking' property.property_id check_in check_out %}" class="btn btn-primary">Book Property</a>
			<button id="addtofavourites" class="btn btn-primary">Add to Favourites</button>
			<br>
			<br>
			<div id="propertyid" value="{{property.property_id}}"></div>
	</div>
</div>



{% endblock %}